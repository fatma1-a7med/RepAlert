<div mat-dialog-title>
  {{data ? 'Edit Doctor' : 'Add New Doctor'}}
</div>

<div class="content" mat-dialog-content>
  <form [formGroup]="userForm" (ngSubmit)="onSubmit()">

    <div class="form-row">
      <!-- First Name -->
      <mat-form-field appearance="outline" class="form-field col-md-5 m-4">
        <mat-label>First Name</mat-label>
        <input matInput formControlName="first_name">
        <mat-error *ngIf="userForm.get('first_name')?.hasError('required')">
          First Name is required.
        </mat-error>
        <mat-error *ngIf="userForm.get('first_name')?.hasError('maxlength')">
          Maximum length is 255 characters.
        </mat-error>
      </mat-form-field>

      <!-- Last Name -->
      <mat-form-field appearance="outline" class="form-field col-md-5 m-4">
        <mat-label>Last Name</mat-label>
        <input matInput formControlName="last_name">
        <mat-error *ngIf="userForm.get('last_name')?.hasError('required')">
          Last Name is required.
        </mat-error>
        <mat-error *ngIf="userForm.get('last_name')?.hasError('maxlength')">
          Maximum length is 255 characters.
        </mat-error>
      </mat-form-field>
    </div>

    <div class="form-row">
      <!-- Email -->
      <mat-form-field appearance="outline" class="form-field col-md-5 m-4">
        <mat-label>Email</mat-label>
        <input matInput formControlName="email">
        <mat-error *ngIf="userForm.get('email')?.hasError('required')">
          Email is required.
        </mat-error>
        <mat-error *ngIf="userForm.get('email')?.hasError('email')">
          Enter a valid email.
        </mat-error>
        <mat-error *ngIf="userForm.get('email')?.hasError('maxlength')">
          Maximum length is 255 characters.
        </mat-error>
        <mat-error *ngIf="userForm.get('email')?.hasError('unique')">
          This email is already in use.
        </mat-error>
      </mat-form-field>

      <!-- City -->
      <mat-form-field appearance="outline" class="form-field col-md-5 m-4">
        <mat-label>City</mat-label>
        <input matInput formControlName="city">
        <mat-error *ngIf="userForm.get('city')?.hasError('required')">
          City is required.
        </mat-error>
        <mat-error *ngIf="userForm.get('city')?.hasError('maxlength')">
          Maximum length is 255 characters.
        </mat-error>
      </mat-form-field>
    </div>

    <div class="form-row">
      <!-- State -->
      <mat-form-field appearance="outline" class="form-field col-md-5 m-4">
        <mat-label>State</mat-label>
        <input matInput formControlName="state">
        <mat-error *ngIf="userForm.get('state')?.hasError('required')">
          State is required.
        </mat-error>
        <mat-error *ngIf="userForm.get('state')?.hasError('maxlength')">
          Maximum length is 255 characters.
        </mat-error>
      </mat-form-field>

      <!-- Street -->
      <mat-form-field appearance="outline" class="form-field col-md-5 m-4">
        <mat-label>Street</mat-label>
        <input matInput formControlName="street">
        <mat-error *ngIf="userForm.get('street')?.hasError('required')">
          Street is required.
        </mat-error>
        <mat-error *ngIf="userForm.get('street')?.hasError('maxlength')">
          Maximum length is 255 characters.
        </mat-error>
      </mat-form-field>
    </div>

    <div class="form-row">
      <!-- Specialization -->
      <mat-form-field appearance="outline" class="form-field col-md-5 m-4">
        <mat-label>Specialization</mat-label>
        <input matInput formControlName="specialization">
        <mat-error *ngIf="userForm.get('specialization')?.hasError('required')">
          Specialization is required.
        </mat-error>
        <mat-error *ngIf="userForm.get('specialization')?.hasError('maxlength')">
          Maximum length is 255 characters.
        </mat-error>
      </mat-form-field>

      <!-- Class Rate -->
      <mat-form-field appearance="outline" class="form-field col-md-5 m-4">
        <mat-label>Class Rate</mat-label>
        <mat-select formControlName="class_rate">
          <mat-option value="A">A</mat-option>
          <mat-option value="B">B</mat-option>
          <mat-option value="C">C</mat-option>
        </mat-select>
        <mat-error *ngIf="isFormSubmitted && userForm.get('class_rate')?.errors?.['required']">
          Class Rate is required.
        </mat-error>
      </mat-form-field>
    </div>

    <div class="form-row">
      <!-- Territory -->
      <mat-form-field appearance="outline" class="form-field col-md-5 m-4">
        <mat-label>Territory</mat-label>
        <input matInput formControlName="territory">
        <mat-error *ngIf="userForm.get('territory')?.hasError('required')">
          Territory is required.
        </mat-error>
        <mat-error *ngIf="userForm.get('territory')?.hasError('maxlength')">
          Maximum length is 255 characters.
        </mat-error>
      </mat-form-field>

      <!-- Phone Number -->
      <mat-form-field appearance="outline" class="form-field col-md-5 m-4">
        <mat-label>Phone Number</mat-label>
        <input matInput formControlName="phone_number">
        <mat-error *ngIf="userForm.get('phone_number')?.hasError('required')">
          Phone Number is required.
        </mat-error>
        <mat-error *ngIf="userForm.get('phone_number')?.hasError('maxlength')">
          Maximum length is 20 characters.
        </mat-error>
      </mat-form-field>
    </div>

    <!-- Actions (Cancel and Save buttons) -->
    <div mat-dialog-actions class="action">
      <button mat-raised-button type="button" [mat-dialog-close]="false">Cancel</button>
      <button mat-raised-button type="submit" class="save">{{data ? 'Update' : 'Save'}}</button>
    </div>

  </form>
</div>
